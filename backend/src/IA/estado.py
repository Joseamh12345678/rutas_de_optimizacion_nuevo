# Estado global compartido
state = {
    "ruta_logica": [],
    "ruta_geom": [],
    "sim_task": None,
    "sim_running": False,
    "current_index": 0,
    "websockets": set()
}